<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Premium wall lights Bangalore & decorative wall lamps India - interior wall sconces, modern wall lights, bedroom wall lamps, hallway wall lighting, LED wall lamps, living room wall lights by Light & Style." />
  <meta name="keywords" content="wall lights Bangalore, decorative wall lamps India, interior wall sconces, modern wall lights, bedroom wall lamps, hallway wall lighting, LED wall lamps, living room wall lights, decorative wall lights for living room interiors in Bangalore, LED wall lamps for modern bedrooms, interior wall sconces for hallways and corridors, wall-mounted lighting fixtures for contemporary homes">
  <title>Wall Lights Bangalore | Decorative Wall Lamps | Light & Style</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Global Font Override */
    * {
      font-family: 'Playfair Display', serif !important;
    }
    
    body {
      font-family: 'Playfair Display', serif;
      margin: 0;
      background: #111;
      color: #eee;
      opacity: 0;
      animation: pageLoad 0.8s ease 0.3s forwards;
    }

    @keyframes pageLoad {
      to { opacity: 1; }
    }

    header {
      background: #000;
      color: #fff;
      padding: 15px 0;
      opacity: 0;
      transform: translateY(-20px);
      animation: slideDown 0.6s ease 0.1s forwards;
    }

    @keyframes slideDown {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    header .container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      max-width: 1300px;
      margin: auto;
      padding: 0 20px;
    }

    .logo {
      display: flex;
      align-items: center;
      transition: all 0.3s ease;
    }

    .logo:hover {
      transform: scale(1.02);
    }

    .logo img {
      height: 50px;
      margin-right: 10px;
      transition: all 0.3s ease;
    }

    .brand-name {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      color: #e9bb24;
      font-weight: 700;
      transition: color 0.3s ease;
    }

    .logo:hover .brand-name {
      color: #f0d04a;
    }

    .navbar {
      position: fixed;
      background-color: #000;
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    nav a {
      color: #eee;
      text-decoration: none;
      margin-left: 20px;
      font-weight: 500;
      transition: all 0.3s ease;
      padding: 8px 12px;
      border-radius: 4px;
      position: relative;
    }

    nav a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: #e9bb24;
      transition: all 0.3s ease;
      transform: translateX(-50%);
    }

    nav a:hover::after {
      width: 80%;
    }

    nav a:hover {
      color: #e9bb24;
      background: rgba(233, 187, 36, 0.1);
    }

    /* Mobile menu styles */
    .mobile-menu-btn {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 40px;
      height: 40px;
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 0;
      z-index: 1001;
      transition: all 0.3s ease;
    }
    
    .hamburger-line {
      width: 25px;
      height: 3px;
      background: #e9bb24;
      margin: 3px 0;
      transition: all 0.3s ease;
      transform-origin: center;
    }
    
    .mobile-menu-btn.active .hamburger-line:nth-child(1) {
      transform: rotate(45deg) translate(6px, 6px);
    }
    
    .mobile-menu-btn.active .hamburger-line:nth-child(2) {
      opacity: 0;
    }
    
    .mobile-menu-btn.active .hamburger-line:nth-child(3) {
      transform: rotate(-45deg) translate(6px, -6px);
    }
    
    .desktop-nav {
      display: flex;
      gap: 2rem;
      align-items: center;
    }
    
    .mobile-nav {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: rgba(17, 17, 17, 0.98);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(233, 187, 36, 0.3);
      padding: 1rem;
      transform: translateY(-100%);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 1000;
    }
    
    .mobile-nav.active {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }
    
    .mobile-nav a {
      display: block;
      padding: 1rem;
      color: #fff;
      text-decoration: none;
      font-family: 'Playfair Display', serif;
      font-size: 1.2rem;
      border-bottom: 1px solid rgba(233, 187, 36, 0.1);
      transition: all 0.3s ease;
    }
    
    .mobile-nav a:last-child {
      border-bottom: none;
    }
    
    .mobile-nav a:hover {
      color: #e9bb24;
      background: rgba(233, 187, 36, 0.1);
      padding-left: 1.5rem;
    }
    
    header .container {
      display: grid;
      grid-template-columns: auto 1fr auto;
      gap: 1rem;
      align-items: center;
      position: relative;
    }
    
    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: flex;
      }
      
      .desktop-nav {
        display: none;
      }
      
      .mobile-nav {
        display: block;
      }
      
      .logo img {
        height: 35px;
      }
      
      .brand-name {
        font-size: clamp(1.5rem, 4vw, 2.5rem);
      }
    }
    
    @media (max-width: 480px) {
      header .container {
        gap: 0.5rem;
      }
      
      .logo img {
        height: 30px;
      }
      
      .brand-name {
        font-size: clamp(1.2rem, 5vw, 2rem);
      }
      
      .mobile-menu-btn {
        width: 35px;
        height: 35px;
      }
      
      .hamburger-line {
        width: 20px;
        height: 2px;
      }
    }

    .container {
      max-width: 1300px;
      margin: auto;
      padding: 20px;
    }

    h3 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 36px;
      text-align: center;
      margin-bottom: 30px;
      color: #e9bb24;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.8s ease 0.5s forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .products-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: left;
      gap: 30px;
      opacity: 0;
      animation: fadeIn 0.8s ease 0.9s forwards;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    .product-card {
      background: #222;
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
      box-shadow: 0 6px 15px rgba(0,0,0,0.5);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      flex-direction: column;
      flex: 0 1 220px;
      max-width: 300px;
      opacity: 0;
      transform: translateY(30px) scale(0.9);
      animation: cardSlideIn 0.6s ease forwards;
      border: 2px solid transparent;
    }

    .product-card:nth-child(1) { animation-delay: 1s; }
    .product-card:nth-child(2) { animation-delay: 1.1s; }
    .product-card:nth-child(3) { animation-delay: 1.2s; }
    .product-card:nth-child(4) { animation-delay: 1.3s; }
    .product-card:nth-child(5) { animation-delay: 1.4s; }
    .product-card:nth-child(6) { animation-delay: 1.5s; }
    .product-card:nth-child(n+7) { animation-delay: 1.6s; }

    @keyframes cardSlideIn {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .product-card img {
      width: 100%;
      aspect-ratio: 3.5/4;
      object-fit: cover;
      display: block;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      filter: brightness(0.9) contrast(1.1);
    }

    .product-info {
      padding: 15px;
      text-align: center;
      background: #1a1a1a;
      transition: all 0.3s ease;
    }

    .product-info h4 {
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      color: #e9bb24;
      margin: 10px 0 8px;
      transition: all 0.3s ease;
    }

    .product-info p {
      font-size: 14px;
      color: #ccc;
      margin: 3px 0;
      line-height: 1.3;
    }

    .product-card::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, rgba(233, 187, 36, 0.3), rgba(240, 208, 74, 0.3));
      background-size: 400% 400%;
      z-index: -1;
      border-radius: inherit;
      opacity: 0;
      transition: opacity 0.4s ease;
      animation: gradientShift 3s ease infinite;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .product-card:hover::before {
      opacity: 1;
    }

    .product-card:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 
        0 15px 30px rgba(0, 0, 0, 0.4),
        0 0 25px rgba(233, 187, 36, 0.2);
      border-color: rgba(233, 187, 36, 0.3);
    }

    .product-card:hover img {
      transform: scale(1.1);
      filter: brightness(1.1) contrast(1.2) saturate(1.2);
    }

    .product-card:hover .product-info {
      background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
    }

    .product-card:hover .product-info h4 {
      transform: translateY(-2px);
      text-shadow: 0 0 8px rgba(233, 187, 36, 0.5);
    }

    .specs-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.85);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 20px;
      backdrop-filter: blur(8px);
      opacity: 0;
      transition: all 0.3s ease;
    }

    .specs-overlay.show {
      opacity: 1;
    }

    .specs-content {
      background: #222;
      color: #eee;
      max-width: 900px;
      width: 90%;
      border-radius: 10px;
      padding: 30px;
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
      position: relative;
      transform: scale(0.8) translateY(30px);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(233, 187, 36, 0.2);
    }

    .specs-overlay.show .specs-content {
      transform: scale(1) translateY(0);
    }

    .specs-image {
      flex: 1 1 300px;
    }

    .specs-image img {
      width: 100%;
      height: auto;
      max-height: 450px;
      object-fit: contain;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.5);
      transition: all 0.3s ease;
    }

    .specs-image img:hover {
      transform: scale(1.02);
      box-shadow: 0 8px 25px rgba(233, 187, 36, 0.3);
    }

    .specs-details {
      flex: 1 1 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .specs-details h3 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 28px;
      margin-bottom: 20px;
      color: #e9bb24;
      animation: none;
      opacity: 1;
      transform: none;
    }

    .specs-details p {
      font-size: 16px;
      margin: 8px 0;
      color: #ddd;
      opacity: 0;
      transform: translateX(-20px);
      animation: slideInLeft 0.5s ease forwards;
    }

    .specs-details p:nth-child(2) { animation-delay: 0.1s; }
    .specs-details p:nth-child(3) { animation-delay: 0.2s; }
    .specs-details p:nth-child(4) { animation-delay: 0.3s; }
    .specs-details p:nth-child(5) { animation-delay: 0.4s; }

    @keyframes slideInLeft {
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .close-overlay {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 30px;
      color: #eee;
      cursor: pointer;
      font-family: Arial, sans-serif;
      font-weight: bold;
      transition: all 0.3s ease;
      z-index: 10;
      background: transparent;
      border: none;
      line-height: 1;
    }

    .close-overlay:hover {
      color: #e9bb24;
      transform: rotate(90deg);
    }

    #enquireProductBtn {
      margin-top: 20px;
      background: linear-gradient(135deg, #e9bb24, #f0d04a);
      color: #fff;
      padding: 12px 25px;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      transform: translateY(20px);
      opacity: 0;
      animation: slideInUp 0.6s ease 0.5s forwards;
    }

    @keyframes slideInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    #enquireProductBtn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }

    #enquireProductBtn:hover::before {
      left: 100%;
    }

    #enquireProductBtn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(233, 187, 36, 0.4);
      background: linear-gradient(135deg, #f0d04a, #e9bb24);
    }

    #loadingMessage {
      text-align: center;
      color: #e9bb24;
      font-size: 18px;
      margin: 40px 0;
      opacity: 0.7;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }

    @media (max-width: 768px) {
      .products-grid {
        justify-content: center;
        gap: 15px;
      }
      
      .product-card {
        flex: 0 1 calc(50% - 10px);
        max-width: calc(50% - 10px);
      }
    }

    @media (max-width: 480px) {
      .product-card {
        flex: 0 1 calc(50% - 10px);
        max-width: calc(50% - 10px);
      }
    }
  </style>
</head>
<body>

<header class="navbar" style="position: sticky; top: 0; z-index: 100; background: #111;">
  <div class="container">
    <div class="logo">
      <img src="images/light-and-style-lighting-solutions-bangalore-logo.jpg" alt="Light & Style Logo">
      <span class="brand-name">Light & Style</span>
    </div>
    
    <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle navigation menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
    
    <!-- Desktop navigation -->
    <nav class="desktop-nav">
      <a href="products.html" style="font-family: 'Playfair Display', serif; font-size: 1.2em;">Back to Products</a>
      <a href="index.php#contact" style="font-family: 'Playfair Display', serif; font-size: 1.2em;">Contact Us</a>
    </nav>
    
    <!-- Mobile navigation dropdown -->
    <nav class="mobile-nav" id="mobileNav">
      <a href="products.html">Back to Products</a>
      <a href="index.php#contact">Contact Us</a>
    </nav>
  </div>
</header>

<section style="background: #111; padding: 20px 0; text-align: center;">
  <h1 style="margin: 0; font-size: clamp(22px, 5vw, 32px); color: #e9bb24; font-family: 'Playfair Display', serif; font-weight: normal;">
    Wall Lights Bangalore | Decorative Wall Lamps
  </h1>
</section>

<section class="category-detail">
  <div class="container">
    <div id="loadingMessage" style="text-align: center; color: #e9bb24; font-size: 18px; margin: 40px 0;">
      Loading wall lights...
    </div>

    <div class="products-grid" id="productsGrid">
      <!-- Products will be loaded dynamically -->
    </div>
  </div>
</section>

<div class="specs-overlay" id="specsOverlay">
  <div class="specs-content">
    <span class="close-overlay" id="closeOverlay">&times;</span>
    <div class="specs-image">
      <img id="specsImage" src="" alt="Product" />
    </div>
    <div class="specs-details">
      <h3 id="specsTitle"></h3>
      <div id="specsDetails"></div>
      <button id="enquireProductBtn">Enquire</button>
    </div>
  </div>
</div>

<div id="productEnquiryModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.85); z-index:3000; justify-content:center; align-items:center;">
  <div style="background:#222; color:#fff; border-radius:12px; padding:40px 30px; max-width:500px; width:90%; box-shadow:0 8px 32px rgba(0,0,0,0.5); position:relative;">
    <span id="closeEnquiryModal" style="position:absolute; top:18px; right:24px; font-size:28px; cursor:pointer; color:#fff;">&times;</span>
    <h2 style="color:#e9bb24; text-align:center; margin-bottom:24px; font-family:'Playfair Display',serif;">Product Enquiry</h2>
    <p id="productEnquiryName" style="text-align:center; margin-bottom:20px; font-weight:600;"></p>
    <form id="productEnquiryForm" onsubmit="return sendProductEnquiry(event)">
      <input type="text" name="name" placeholder="Your Name" required style="width:100%; padding:12px; margin-bottom:15px; border:1px solid #444; border-radius:6px; background:#1a1a1a; color:#fff; font-family:'Playfair Display',serif;">
      <input type="email" name="email" placeholder="Your Email" required style="width:100%; padding:12px; margin-bottom:15px; border:1px solid #444; border-radius:6px; background:#1a1a1a; color:#fff; font-family:'Playfair Display',serif;">
      <input type="tel" name="phone" placeholder="Phone Number" style="width:100%; padding:12px; margin-bottom:15px; border:1px solid #444; border-radius:6px; background:#1a1a1a; color:#fff; font-family:'Playfair Display',serif;">
      <textarea name="message" placeholder="Your Message" style="width:100%; padding:12px; margin-bottom:15px; border:1px solid #444; border-radius:6px; background:#1a1a1a; color:#fff; min-height:100px; font-family:'Playfair Display',serif;"></textarea>
      <div style="margin-bottom:15px;">
        <input type="file" id="productAttachments" name="attachments[]" multiple style="width:100%; padding:8px; border:1px solid #444; border-radius:6px; background:#1a1a1a; color:#fff;">
        <small style="color:#999; font-size:0.85em;">Attach up to 3 files (max 5MB each)</small>
      </div>
      <button type="submit" style="width:100%; padding:12px; background:#e9bb24; color:#000; border:none; border-radius:6px; font-weight:600; font-size:16px; cursor:pointer; font-family:'Playfair Display',serif;">Send Enquiry</button>
    </form>
  </div>
</div>

<script>
  // Email handling via PHP backend

  let allProducts = [];
  const productsGrid = document.getElementById('productsGrid');
  const loadingMessage = document.getElementById('loadingMessage');

  async function loadProducts() {
    try {
      const response = await fetch('products.php');
      const data = await response.json();
      
      allProducts = data.products.filter(p => p.category === 'Wall Light');
      displayProducts(allProducts);
    } catch (error) {
      console.error('Error loading products:', error);
      productsGrid.innerHTML = '<p style="text-align: center; color: #ccc;">Error loading products: ' + error.message + '</p>';
    } finally {
      loadingMessage.style.display = 'none';
    }
  }

  function displayProducts(products) {
    productsGrid.innerHTML = '';
    
    if (products.length === 0) {
      productsGrid.innerHTML = '<p style="text-align: center; color: #ccc;">No products found in this category.</p>';
      return;
    }

    products.forEach((product, index) => {
      const productCard = document.createElement('div');
      productCard.className = 'product-card';
      productCard.dataset.id = product.id;
      productCard.dataset.name = product.name;
      productCard.dataset.category = product.category || '';
      
      // Add custom animation delay for staggered effect
      productCard.style.animationDelay = `${1 + (index * 0.1)}s`;
      
      // Build specs string
      const specs = [
        product.material ? `Material: ${product.material}` : '',
        product.wattage ? `Wattage: ${product.wattage}W` : '',
        product.size ? `Size: ${product.size}` : '',
        product.finish ? `Finish: ${product.finish}` : ''
      ].filter(spec => spec !== '');
      
      productCard.innerHTML = `
        <img src="${product.image_url || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjNDQ0Ii8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iI2NjYyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zNWVtIj5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+Cjwvc3ZnPg=='}" 
             alt="${product.name}" 
             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjNDQ0Ii8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iI2NjYyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zNWVtIj5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+Cjwvc3ZnPg=='; this.onerror=null;">
        <div class="product-info">
          <h4>${product.name}</h4>
        </div>
      `;
      
      // Add click event for modal
      productCard.addEventListener('click', () => showProductModal(product, specs));
      
      productsGrid.appendChild(productCard);
    });
  }

  function showProductModal(product, specs) {
    document.getElementById('specsTitle').textContent = product.name;
    const modalImage = document.getElementById('specsImage');
    modalImage.src = product.image_url || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjNDQ0Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iI2NjYyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zNWVtIj5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+PC9zdmc+';
    modalImage.onerror = function() {
      this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjNDQ0Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iI2NjYyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zNWVtIj5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+PC9zdmc+';
    };
    
    const detailsContainer = document.getElementById('specsDetails');
    detailsContainer.innerHTML = '';
    
    if (product.category) {
      const categoryP = document.createElement('p');
      categoryP.innerHTML = `<strong>Category:</strong> ${product.category}`;
      detailsContainer.appendChild(categoryP);
    }
    
    specs.forEach(spec => {
      const p = document.createElement('p');
      if (typeof spec === 'string') {
        const parts = spec.split(':');
        if (parts.length > 1) {
          p.innerHTML = `<strong>${parts[0].trim()}:</strong> ${parts.slice(1).join(':').trim()}`;
        } else {
          p.textContent = spec;
        }
      } else if (spec && typeof spec === 'object') {
        p.innerHTML = `<strong>${spec.spec_name}:</strong> ${spec.spec_value}`;
      }
      detailsContainer.appendChild(p);
    });
    
    window.currentProduct = product;
    
    const overlay = document.getElementById('specsOverlay');
    overlay.style.display = 'flex';
    setTimeout(() => overlay.classList.add('show'), 10);
    
    const enquireBtn = document.getElementById('enquireProductBtn');
    const newEnquireBtn = enquireBtn.cloneNode(true);
    enquireBtn.parentNode.replaceChild(newEnquireBtn, enquireBtn);
    
    newEnquireBtn.onclick = function() {
      showProductEnquiryModal(window.currentProduct);
    };
  }

  const closeOverlay = document.getElementById('closeOverlay');
  if (closeOverlay) {
    closeOverlay.addEventListener('click', () => {
      const overlay = document.getElementById('specsOverlay');
      overlay.classList.remove('show');
      setTimeout(() => overlay.style.display = 'none', 300);
    });
  }

  const closeEnquiryModal = document.getElementById('closeEnquiryModal');
  if (closeEnquiryModal) {
    closeEnquiryModal.addEventListener('click', function() {
      document.getElementById('productEnquiryModal').style.display = 'none';
    });
  }

  function showProductEnquiryModal(product) {
    document.getElementById('productEnquiryName').textContent = `Enquiry for: ${product.name}`;
    document.getElementById('productEnquiryModal').style.display = 'flex';
    window.currentProduct = product;
  }

  async function sendProductEnquiry(e) {
    e.preventDefault();
    
    const form = document.getElementById('productEnquiryForm');
    const submitButton = form.querySelector('button[type="submit"]');
    const fileInput = document.getElementById('productAttachments');
    
    const files = fileInput.files;
    if (files.length > 3) {
      alert('Please select a maximum of 3 files');
      return false;
    }

    for (let i = 0; i < files.length; i++) {
      if (files[i].size > 5 * 1024 * 1024) {
        alert('Each file must be less than 5MB');
        return false;
      }
    }

    submitButton.disabled = true;
    submitButton.textContent = 'Sending...';

    try {
      const formData = new FormData();
      
      formData.append('name', form.name.value);
      formData.append('email', form.email.value);
      formData.append('phone', form.phone.value);
      
      const originalMessage = form.message.value;
      const productMessage = `Product Enquiry for: ${window.currentProduct.name}\n\n${originalMessage}`;
      formData.append('message', productMessage);
      
      formData.append('product_name', window.currentProduct.name);
      
      // Convert product image URL into actual file and attach it (if available)
      if (window.currentProduct.image_url) {
        try {
          const resp = await fetch(window.currentProduct.image_url);
          const blob = await resp.blob();
          const imgFile = new File([blob], "product-image.jpg", { type: blob.type });
          formData.append('attachments[]', imgFile);
        } catch (err) {
          console.error("Failed to fetch product image:", err);
        }
      }

      for (let i = 0; i < files.length; i++) {
        formData.append('attachments[]', files[i]);
      }

      const response = await fetch('send-email.php', {
        method: 'POST',
        body: formData
      });

      const result = await response.json();

      if (!response.ok) {
        throw new Error(result.error || 'Failed to send email');
      }

      alert('Thank you! Your product enquiry has been sent.');
      form.reset();
      document.getElementById('productEnquiryModal').style.display = 'none';
    } catch (error) {
      console.error('Error:', error);
      alert('Sorry, there was an error sending your enquiry: ' + error.message);
    } finally {
      submitButton.disabled = false;
      submitButton.textContent = 'Send Enquiry';
    }

    return false;
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadProducts();
    
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileNav = document.getElementById('mobileNav');
    
    if (mobileMenuBtn) {
      mobileMenuBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        mobileNav.classList.toggle('active');
        this.classList.toggle('active');
        
        const isOpen = mobileNav.classList.contains('active');
        this.setAttribute('aria-expanded', isOpen);
        mobileNav.setAttribute('aria-hidden', !isOpen);
      });
    }
    
    document.addEventListener('click', function(e) {
      if (!mobileMenuBtn.contains(e.target) && !mobileNav.contains(e.target)) {
        mobileNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        mobileNav.setAttribute('aria-hidden', 'true');
      }
    });
    
    if (mobileNav) {
      mobileNav.addEventListener('click', function(e) {
        if (e.target.tagName === 'A') {
          mobileNav.classList.remove('active');
          if (mobileMenuBtn) mobileMenuBtn.classList.remove('active');
          if (mobileMenuBtn) mobileMenuBtn.setAttribute('aria-expanded', 'false');
          mobileNav.setAttribute('aria-hidden', 'true');
        }
      });
    }
    
    window.addEventListener('resize', function() {
      if (window.innerWidth >= 768) {
        mobileNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        mobileNav.setAttribute('aria-hidden', 'true');
      }
    });
    
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
        mobileNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        mobileNav.setAttribute('aria-hidden', 'true');
        mobileMenuBtn.focus();
      }
    });
  });
</script>

<footer style="background: #000; color: #fff; text-align: center; padding: 2rem 1rem; margin-top: 3rem; border-top: 1px solid rgba(233, 187, 36, 0.3);">
  <div style="max-width: 1200px; margin: 0 auto;">
    <div style="display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 2rem; margin-bottom: 1rem;">
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <img src="images/light-and-style-lighting-solutions-bangalore-logo.jpg" alt="Light & Style Logo" style="height: 30px;">
        <span style="font-family: 'Playfair Display', serif; font-size: 1.2rem; color: #e9bb24; font-weight: 700;">Light & Style</span>
      </div>
      <div style="font-size: 0.9rem; color: #ccc;">
        120/5, Infantry Road, Bangalore - 560001 | Phone: 080-41130090 / 41132190
      </div>
    </div>
    <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); padding-top: 1rem;">
      <p style="margin: 0; font-size: 0.9rem; color: #aaa;">
        © 2024 Light & Style. All rights reserved. 
      </p>
    </div>
  </div>
</footer>

</body>
</html>

